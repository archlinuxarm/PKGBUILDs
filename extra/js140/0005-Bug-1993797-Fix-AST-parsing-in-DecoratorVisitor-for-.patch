From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Alex Hochheiden <ahochheiden@mozilla.com>
Date: Wed, 15 Oct 2025 05:42:37 +0000
Subject: [PATCH] Bug 1993797 - Fix AST parsing in DecoratorVisitor for Python
 3.14 r=firefox-build-system-reviewers,glandium

This is necessary due to the `ast.Str` removal in 3.14.

Differential Revision: https://phabricator.services.mozilla.com/D268646
---
 python/mach/mach/command_util.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/python/mach/mach/command_util.py b/python/mach/mach/command_util.py
index 8539bf37b5b0..14bf65d60257 100644
--- a/python/mach/mach/command_util.py
+++ b/python/mach/mach/command_util.py
@@ -299,7 +299,7 @@ class DecoratorVisitor(ast.NodeVisitor):
                     # We only care about these 3 kwargs, so we can safely skip the rest
                     continue
 
-                kwarg_dict[keyword.arg] = getattr(keyword.value, "s", "")
+                kwarg_dict[keyword.arg] = keyword.value.value
 
             command = kwarg_dict.pop("command")
             self.results.setdefault(command, {})
