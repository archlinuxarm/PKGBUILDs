# $Id: PKGBUILD 51890 2009-09-13 13:06:21Z pierre $
# Maintainer: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
pkgname=firefox-i18n
pkgver=3.5.3
pkgrel=1
pkgdesc="Language packs for Firefox"
arch=('any')
license=('MPL')
url="http://www.mozilla.com/"
depends=("firefox>=${pkgver}")
_url=ftp://ftp.mozilla.org/pub/mozilla.org/firefox/releases/${pkgver}/linux-i686/xpi/
source=($_url/af.xpi
        $_url/ar.xpi
        $_url/as.xpi
        $_url/be.xpi
        $_url/bg.xpi
        $_url/bn-BD.xpi
        $_url/bn-IN.xpi
        $_url/ca.xpi
        $_url/cs.xpi
        $_url/cy.xpi
        $_url/da.xpi
        $_url/de.xpi
        $_url/el.xpi
        $_url/en-GB.xpi
        $_url/eo.xpi
        $_url/es-AR.xpi
        $_url/es-CL.xpi
        $_url/es-ES.xpi
        $_url/es-MX.xpi
        $_url/et.xpi
        $_url/eu.xpi
        $_url/fa.xpi
        $_url/fi.xpi
        $_url/fr.xpi
        $_url/fy-NL.xpi
        $_url/ga-IE.xpi
        $_url/gl.xpi
        $_url/gu-IN.xpi
        $_url/he.xpi
        $_url/hi-IN.xpi
        $_url/hr.xpi
        $_url/hu.xpi
        $_url/id.xpi
        $_url/is.xpi
        $_url/it.xpi
        $_url/ja.xpi
        $_url/ka.xpi
        $_url/kk.xpi
        $_url/kn.xpi
        $_url/ko.xpi
        $_url/ku.xpi
        $_url/lt.xpi
        $_url/lv.xpi
        $_url/mk.xpi
        $_url/ml.xpi
        $_url/mn.xpi
        $_url/mr.xpi
        $_url/nb-NO.xpi
        $_url/nl.xpi
        $_url/nn-NO.xpi
        $_url/oc.xpi
        $_url/or.xpi
        $_url/pa-IN.xpi
        $_url/pl.xpi
        $_url/pt-BR.xpi
        $_url/pt-PT.xpi
        $_url/rm.xpi
        $_url/ro.xpi
        $_url/ru.xpi
        $_url/si.xpi
        $_url/sk.xpi
        $_url/sl.xpi
        $_url/sq.xpi
        $_url/sr.xpi
        $_url/sv-SE.xpi
        $_url/ta-LK.xpi
        $_url/ta.xpi
        $_url/te.xpi
        $_url/th.xpi
        $_url/tr.xpi
        $_url/uk.xpi
        $_url/vi.xpi
        $_url/zh-CN.xpi
        $_url/zh-TW.xpi)
md5sums=('8e0ad7491dd9609a2659fb81e95b8bd6'
         'ac17ea81fa6b7044479b60c8d71ebf79'
         'f3e09a6265bb6619a978e13007cd9f41'
         '0419635cc1b2e434ac098c52d001cd3c'
         'cb8c0e679281d0f422ba35c4e6b27ddc'
         'e1b8ce5c2a33555114c1436c5c7da577'
         '3be5fd8dfdfbb5ee414da48227a19344'
         'fb042ee0432678f7cdd834e315da2a73'
         '8ae62188200e7f94ec489b584b27ac3a'
         'aa516e70e705f071f36582cef3d7b570'
         '462c64ffbdd02c7c45fbb61d45e6c68e'
         'a7cbf5cd70f7be0d0b4a2cdbbfaa0137'
         '42f8aa73411da86626640b40a5cf0866'
         'a64991e3e2c367418a674e44258b8121'
         '422c6d9eb5435ac68c805604d709555e'
         'd5261436aae073848ec8230fb3b57103'
         'f4de96f5629a99c26c617911fdd640b3'
         '3f881284a820a3117f48a9352eaefd9d'
         'fa6a16ba0cfc5da281b5dab52ec33e62'
         '11d1c48e1fd92d7cbe22844643870204'
         '788de7306df505804f7688b5204722f4'
         '06c69f77b4043979a11f4caa881ee466'
         'b1816a439242fc4a3e8afb354aaa05c3'
         '887ce7f2d18c9881cbb9ee8ebaf0aaca'
         '66eb51e9b589392c6a34d8c1d2639883'
         'e314cb6cc6a01e45694074e6f80c77e2'
         'ca14979436b71bf89ca734dfe1395038'
         'a9a926223c2938e34d95609d1a3415ae'
         'db974ab9dd4e9f83b0af5b7fbdca2d7d'
         '28bc57c929b21a746e2f7d92f3c1cd0f'
         'b5c64bce1605c91e880632608cb15b68'
         '22445992fc13188ed44371bdce2d4120'
         'dddacd2dbcb3513c0f97f7fd19d8a339'
         '8bc85ea7ccc253dc4177ffb0457ef033'
         'c1afc7a380aed2b7f760d34576d9e0ac'
         '449f29fcec4e9b08d2e4d078afcccb0d'
         'dca38d5904a9f4cb0be629bacec0a9bc'
         'e0357e9eb59ebae044b4ba28fb132a99'
         'd6be5e96ebdf0d43940751d448e87693'
         '073d58ff37c6eb569ca2e3e94380b5cb'
         '8ab16a5efb79a2cc54ae6c033d23155f'
         'f4211b763093f8ebc10d7da04b868310'
         '925c85a7a1e1d4980d14fe86ea459846'
         '2026e26ef1c1be02a91977ad16653bcd'
         'd1621badb1a98d348d281a2fed59708f'
         'a65451e7b11bb64cef962879b56084d0'
         'be59720bdac3e710d35fdac7c9466905'
         'e5e42024c57b0b9e75d7dc5b0a0b1a4f'
         '3e97f8e3df90fd6a7869997ada50e7ba'
         'e17df12255e5a1771efbae071a85c1f5'
         '4cee7407236213ede483b79ba168a310'
         'c4fd6685ee3b8317b7e530d9c10792d6'
         '7e8fc6d125aa6a197e0684bf9516f216'
         '8c26844b186ad2c26ea102d82edff2ce'
         '981cae0682884462f7ea6a8a2a2afa73'
         'ba48cc2ee6025284ab479274334ad126'
         '819380dc3c64bed7cf519af74350202c'
         'f6950b5fcc4d3ffc9061bd6bcc725633'
         'ad7787157e1800bac886f47f512a483d'
         'edeef904d91ae165405d965ac85ab122'
         '1b279d31dcf74b0c86532c683d254409'
         '9a162ad46f094a1c941e0e6c63f23668'
         'da9b502aa8f4e25e1acaa2ee38a6fc45'
         'c270f548c6e61824ab93ef496ab1dd47'
         '03d17d9e94a0a6e64fe030d008ed8d55'
         '608fab0daea6b9c6e5d13ef53a778c5f'
         '21fe649cdda306a99db4a154b8b8922b'
         'ca7ead39b226ffc1b52b11f8d46bf767'
         'cea3a64e4ff33d546e24f7c7826eec94'
         'fbef29e22907d58b68a8cea82c2004d9'
         '175d12b65e472285736588b5a55bea3f'
         '6afcc195fcb9b574ffd41c5dd0dd1d3d'
         'c8f311a3090788ba231a70d0aa8e5b9a'
         '9af0a308d3c32061b72ccf7a4114a6d0')

build() {
  cd "${srcdir}"
  for langfile in *.xpi; do
    lang=${langfile/.xpi/}
    bsdtar xf ${langfile} || return 1
    sed -i "s|jar:chrome/${lang}.jar|jar:${lang}.jar|" chrome.manifest || return 1
    install -D -m 644 chrome/${lang}.jar "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.jar" || return 1
    install -D -m 644 chrome.manifest "${pkgdir}/usr/lib/firefox-3.5/chrome/${lang}.manifest" || return 1
  done
}
