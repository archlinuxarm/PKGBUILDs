# $Id: PKGBUILD 51279 2009-09-07 06:02:33Z andyrtr $
# Maintainer: AndyRTR <andyrtr@archlinux.org>

pkgname=libmythes
pkgver=3.1.1
_OO_milestone=OOO310_m19
pkgrel=1
pkgdesc="a simple thesaurus, contains static library and header file needed to develop applications using mythes + perl script to create index files"
arch=('i686' 'x86_64')
url="http://lingucomponent.openoffice.org/thesaurus.html"
license=('custom')
depends=('glibc' 'perl')
source=(ftp://ftp.archlinux.org/other/openoffice/openoffice-base-${_OO_milestone}.tar.bz2)
# old source from http://lingucomponent.openoffice.org is terribly outdated and won't build
md5sums=('23370db83cc40bfbf22cedc460fd6b85')


# package has all files but a libmythes_pic.a from the debian pkg

build() {
  cd ${srcdir}/${_OO_milestone}/lingucomponent/source/thesaurus/mythes
  # add a needed header
  cp ${srcdir}/${_OO_milestone}/lingucomponent/inc/pch/precompiled_lingucomponent.hxx .
  # build
  make libmythes.a || return 1
  # install
  install -Dm644 libmythes.a $pkgdir/usr/lib/libmythes.a
  install -Dm644 mythes.hxx $pkgdir/usr/include/mythes.hxx
  install -Dm755 ${srcdir}/${_OO_milestone}/dictionaries/util/th_gen_idx.pl $pkgdir/usr/share/mythes/th_gen_idx.pl
  # license
  install -Dm644 ${srcdir}/${_OO_milestone}/lingucomponent/source/thesaurus/mythes/license.readme $pkgdir/usr/share/licenses/$pkgname/LICENSE
}
