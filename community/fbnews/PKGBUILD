# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# contributor: alzen<mynick2(at)gmail(dot)com>

pkgname=fbnews
pkgver=0.5.1
pkgrel=2
pkgdesc="fbnews is an RSS/RDF newsfetcher for Fluxbox"
arch=('i686' 'x86_64')
url="http://www.fms-engel.de/fbnews/index.php?page=home"
license=('GPL')
depends=('fluxbox' 'python')
makedepends=('automake' 'pkgconfig' 'texinfo')
install=('fbnews.install')
source=(http://www.fms-engel.de/fbnews/uploads/releases/fbnews-0.5.tar.gz)
md5sums=('6694bbdaa50f8a76bf6b5bb5157b0427')

build() {
  mkdir $startdir/pkg/usr
  mkdir $startdir/pkg/usr/bin
  mkdir $startdir/pkg/usr/share
  mkdir $startdir/pkg/usr/share/fbnews
  mkdir $startdir/pkg/usr/share/info
  cd $startdir/src/$pkgname-0.5
  export INFODIR=$startdir/pkg/usr/share/info

  sed -i 's|iso8859_15|utf8|' fbnews.py

  make || return 1
  make INSTALLPREFIX=$startdir/pkg/usr install || return 1

  ln -sf ../share/fbnews/fbnews.py $startdir/pkg/usr/bin/fbnews && \
  ln -sf ../share/fbnews/startmoz.sh $startdir/pkg/usr/bin/startmoz
}
