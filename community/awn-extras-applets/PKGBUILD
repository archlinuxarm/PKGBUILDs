# $Id: PKGBUILD 2382 2009-09-17 11:22:59Z ibiru $
# Maintainer : Biru Ionut <ionut@archlinux.ro>
# Contributor: Andrea Scarpino <bash.lnx@gmail.com>
# Contributor: Jonathan Liu <net147@hotmail.com>

pkgname=awn-extras-applets
pkgver=0.3.2.2
pkgrel=2
pkgdesc="A collection of applets for avant-window-navigator"
arch=('i686' 'x86_64')
url="https://launchpad.net/awn-extras"
license=('GPL2' 'LGPL2')
depends=('avant-window-navigator' 'gnome-menus' 'libgtop' 'libnotify' 'libsexy' 'vte' 'libtracker')
makedepends=('intltool')
provides=('avant-window-navigator-extras')
install=awn-extras-applets.install
source=(https://launchpad.net/awn-extras/0.2/$pkgver/+download/$pkgname-$pkgver.tar.gz)
options=('!libtool')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  ./configure --prefix=/usr --sysconfdir=/etc --disable-pymod-checks
  make || return 1
  make DESTDIR="$pkgdir" install

  mkdir -p "$pkgdir/usr/share/gconf/schemas"
  gconf-merge-schema "$pkgdir/usr/share/gconf/schemas/awn-extras.schemas" \
	"$pkgdir"/etc/gconf/schemas/*.schemas
  rm -f "$pkgdir"/etc/gconf/schemas/*.schemas
  rmdir "$pkgdir/usr/share/locale"
  rmdir --ignore-fail-on-non-empty -p "$pkgdir/etc/gconf/schemas"
}
md5sums=('100699188f2157346cecd0dce0ddab03')
