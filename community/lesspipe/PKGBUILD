# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Angel 'angvp' Velasquez <angvp[at]archlinux.com.ve> 
# Contributor: solsTiCe d'Hiver <solstice.dhiver@gmail.com>

pkgname=lesspipe
pkgver=1.70
pkgrel=1
pkgdesc='an input filter for the pager less'
depends=('less')
arch=('i686' 'x86_64')
license=('GPL')
optdepends=('unrar: support for rar file' 'rpm2cpio: support for rpm file' \
	'p7zip: support for 7za file' 'cabextract: support for cab file' \
	'cdrkit: support for iso file' 'unzip: support for zip file' \
	'html2text: support for html file' 'antiword: support for word file' \
	'unrtf: support for rtf file' 'imagemagick: support for some image file')
url="http://www-zeuthen.desy.de/~friebel/unix/lesspipe.html"
source=(http://www-zeuthen.desy.de/~friebel/unix/less/lesspipe.tar.gz \
	lesspipe.sh)
md5sums=('1eefbc1a4d95bb0726fc23ff5c66fc2e'
         '675b56f560c600f43108adfd98222251')

build() {
	cd $srcdir/$pkgname-$pkgver

	./configure --prefix=/usr --default
	make || return 1
	mkdir -p $pkgdir/usr/share/man/man1
	make install PREFIX=$pkgdir/usr || return 1

	install -D $srcdir/lesspipe.sh $pkgdir/etc/profile.d/lesspipe.sh
}
