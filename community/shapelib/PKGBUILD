# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
#Contributor: Bob Finch <w9ya@arrl.net>

pkgname=shapelib
pkgver=1.2.10
pkgrel=3
pkgdesc="simple C API for reading and writing ESRI Shapefiles"
arch=(i686 x86_64)
depends=(glibc)
license=('LGPL' 'MIT')
options=('!libtool')
source=(http://dl.maptools.org/dl/$pkgname/$pkgname-$pkgver.tar.gz LICENSE)
md5sums=('4d96bd926167193d27bf14d56e2d484e' '431dfe7afb1d2c082682ecfcc9ee7a34')
url="http://shapelib.maptools.org/"

build() {
  cd $startdir/src/$pkgname-$pkgver
  
  sed -i -e s:'-O2':"${CFLAGS}": Makefile
  make lib || return 1

  sed -i -e s:/usr/local:$startdir/pkg/usr: Makefile
  sed -i -e s:/usr/bin/install:/bin/install: Makefile
  make lib_install
  install -D -m644 ../LICENSE $startdir/pkg/usr/share/licenses/$pkgname/LICENSE
}
