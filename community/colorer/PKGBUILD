# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Roman Kyrylych <Roman.Kyrylych@gmail.com>
# Contributor: Roman Kyrylych <Roman.Kyrylych@gmail.com>

pkgname=colorer
pkgver=take5.be5
pkgrel=3
pkgdesc="A library that provides source text syntax highlighting services"
arch=('i686' 'x86_64')
url="http://colorer.sourceforge.net/"
license=("MPL" "GPL" "LGPL")
depends=('gcc')
source=(http://downloads.sourceforge.net/sourceforge/colorer/Colorer-take5-linux.be5.tar.bz2 x86_64-build.patch)
md5sums=('9ae5f5266aa41968314c18334d941fc2' 'eabd3825c2cd80f06161548c2df21299')
options=(force)

build() {
  cd $startdir/src
  [ "$CARCH" = "x86_64" ] && (patch -p0 < x86_64-build.patch || return 1)
  ./configure --prefix=/usr
  [ "$CARCH" = "i686" ] &&  (make || return 1)
  [ "$CARCH" = "x86_64" ] && (make FLAGS="$FLAGS -fPIC" || return 1)
  make prefix=$startdir/pkg/usr install
  rm $startdir/pkg/usr/share/colorer/{LICENSE,README}
}
