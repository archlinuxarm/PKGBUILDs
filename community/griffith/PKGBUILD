# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Ronald van Haren <ronald.archlinux.org>
# Contributor: Alessio 'mOLOk' Bolognino <themolok@gmail.com>
# Contributor: Pawel Rusinek <p.rusinek@gmail.com>

pkgname=griffith
pkgver=0.9.10
pkgrel=1
pkgdesc="Movie collection manager application"
arch=('i686' 'x86_64')
url="http://griffith.berlios.de"
license=('GPL2')
depends=('pygtk>=2.6.1' 'sqlite3' 'python-pysqlite' \
         'python-reportlab>=1.19' 'pil' 'pyxml' 'python-sqlalchemy')
optdepends=('python-psycopg2: postgreSQL support'
	'mysql-python: MySQL support'
	'python-chardet: encoding detection of imported CSV files'
	'gnome-python-extras: spell checking support'
	'griffith-extra-artwork (AUR): additional icons')
source=(http://download.berlios.de/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('2554718b47f2ebc9d97958a2ae6d36aa')

build() {
  cd ${srcdir}/${pkgname}-${pkgver}
  make DESTDIR=${pkgdir} install || return 1

  # The program creates a wrong symlink so make a new one
  rm ${pkgdir}/usr/bin/griffith
  ln -s /usr/share/griffith/lib/griffith ${pkgdir}/usr/bin/griffith 
}
