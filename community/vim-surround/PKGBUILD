# Maintainer: Aaron Schaefer <aaron@elasticdog.com>
pkgname=vim-surround
pkgver=1.34
_scriptid=8283
pkgrel=3
pkgdesc='A Vim plugin that provides mappings to easily delete, change, and add paired "surroundings"'
arch=('any')
url='http://www.vim.org/scripts/script.php?script_id=1697'
license=('custom:vim')
depends=('vim')
install=vimdoc.install
source=("http://www.vim.org/scripts/download_script.php?src_id=$_scriptid" license.txt)
md5sums=('a222c68bba49fa7f81008cfdfc89f342' 'cd49910a3dde6fe0a7e24ebe8cbf7066')

build() {
  cd $srcdir
  mv download_script.php?src_id=$_scriptid surround-$pkgver.zip
  unzip -qqo surround-$pkgver.zip

  installpath="$pkgdir/usr/share/vim/vimfiles"

  install -D -m644 doc/surround.txt $pkgdir/usr/share/vim/doc/surround.txt
  install -D -m644 plugin/surround.vim $installpath/plugin/surround.vim || return 1

  install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
}
