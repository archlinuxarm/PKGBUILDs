# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Eric Belanger <eric@archlinux.org>
# Contributor: Eric Belanger <eric@archlinux.org>

pkgname=pysolfc
pkgver=1.1
pkgrel=3
pkgdesc="PySol (Fan Club edition) is an exciting collection of more than 1000 solitaire games"
arch=('i686' 'x86_64')
url="http://pysolfc.sourceforge.net/"
license=('GPL')
depends=('python' 'tk>=8.5.0' 'pysol-sound-server' 'pil')
conflicts=('pysol')
replaces=('pysol')
options=('!makeflags')
source=(http://downloads.sourceforge.net/pysolfc/PySolFC-${pkgver}.tar.bz2 pysolfc.desktop)
md5sums=('56aca8101b3534aaf3564c40ed6824f1' '5d889261c5505165ce087f4f7e684fbd')
sha1sums=('5ff4d8c7f238c5dab6122e916aeae2de2d945123' '50be656cec547c019abc8d0bce7758cf71418ec7')

build() {
  cd ${srcdir}/PySolFC-${pkgver}
  sed -i  "s|data_files.append((data_dir, \['data/pysolfc.glade'\]))||g" setup.py  || return 1
  python setup.py install --root=${pkgdir} || return 1
  install -D -m644 ../pysolfc.desktop ${pkgdir}/usr/share/applications/pysolfc.desktop
  ln -s pysol.py ${pkgdir}/usr/bin/pysol
}
