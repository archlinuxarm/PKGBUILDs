# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Maintainer: Corrado Primier <bardo@aur.archlinux.org>

pkgname=xsensors
pkgver=0.60
pkgrel=2
pkgdesc="X11 interface to lm_sensors"
arch=('i686' 'x86_64')
url="http://www.linuxhardware.org/xsensors/"
license=('GPL')
depends=('gtk2' 'lm_sensors')
makedepends=('pkgconfig')
source=(http://www.linuxhardware.org/xsensors/${pkgname}-${pkgver}.tar.gz
        http://jdelvare.pck.nerim.net/sensors/xsensors-0.60-libsensors-3.patch
        xsensors-0.60-gui-segfault.patch)
md5sums=('4f218896a79fc9cc765ff2d9eaa3d362' '6fe67f28c7ca418e685b4e21b98239e5'
         '4bc773b26a4a23ce28312864f6c22898')

build() {
  cd ${startdir}/src/${pkgname}-${pkgver}
  patch -Np1 -i ${startdir}/src/xsensors-0.60-libsensors-3.patch
  patch -Np1 -i ${startdir}/src/xsensors-0.60-gui-segfault.patch
  ./configure --prefix=/usr
  make || return 1
  make DESTDIR=${startdir}/pkg install
  install -Dm644 ${startdir}/src/${pkgname}-${pkgver}/pixmaps/default.xpm \
      ${startdir}/pkg/usr/share/xsensors/pixmaps/default.xpm
}

# vim:set ts=2 sw=2 et:
