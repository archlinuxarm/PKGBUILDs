# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Pierre Schmitz <pierre@archlinux.de>
pkgname=solarwolf
pkgver=1.5
pkgrel=3
arch=(i686 x86_64)
pkgdesc="SolarWolf is an action/arcade game written in Python"
url="http://www.pygame.org/shredwheat/solarwolf/"
depends=('python-pygame>=1.5.6')
license=("LGPL")
source=(http://www.pygame.org/shredwheat/$pkgname/$pkgname-$pkgver.tar.gz solarwolf.desktop)
md5sums=('52fbed0a33c3c4c08d9dc0e533f90f8c' '9d0b8c95d84eacf86a1fb1f3249d97bb')

build() {
	cd $startdir/src/$pkgname-$pkgver

	sed -i 's|/usr/share/games/solarwolf|/usr/share/solarwolf|g' solarwolf.py
	sed -i 's|/usr/lib/games/solarwolf|/usr/lib/solarwolf|g' solarwolf.py

	install -m 0755 -d $startdir/pkg/usr/share/solarwolf/data
	install -m 0755 -d $startdir/pkg/usr/share/solarwolf/data/audio
	install -m 0755 -d $startdir/pkg/usr/share/solarwolf/data/music
	install -m 0755 -d $startdir/pkg/usr/lib/solarwolf

	install -m 0644 data/* $startdir/pkg/usr/share/solarwolf/data
	install -m 0644 data/audio/* $startdir/pkg/usr/share/solarwolf/data/audio
	install -m 0644 data/music/* $startdir/pkg/usr/share/solarwolf/data/music
	install -m 0644 code/* $startdir/pkg/usr/lib/solarwolf

	install -m 0755 -d $startdir/pkg/usr/bin/

	install -m 0755 solarwolf.py $startdir/pkg/usr/bin/solarwolf

	install -D -m644 dist/solarwolf.png $startdir/pkg/usr/share/pixmaps/solarwolf.png || return 1
	install -D -m644 $startdir/src/solarwolf.desktop $startdir/pkg/usr/share/applications/solarwolf.desktop || return 1
}
