# Maintainer: Stefan Husmann <stefan-husmann@t-online.de>
# Contributor: Simon Lipp <sloonz+aur@gmail.com>

pkgname=fop
pkgver=0.95
pkgrel=5
pkgdesc="XSL-FO implementation in Java"
arch=('any')
url="http://xmlgraphics.apache.org/fop/"
license=('APACHE')
depends=('java-xmlgraphics-commons' 'java-commons-logging'
  'java-commons-io' 'java-batik' 'java-avalon-framework')
makedepends=('apache-ant' 'java-environment')
source=('http://apache.cict.fr/xmlgraphics/fop/binaries/fop-0.95-src.tar.gz' 'fop.conf')
md5sums=('58593e6c86be17d7dc03c829630fd152' '6ee5aa760e5a3403fa9b37dfc51b333f')
provides=('fop')
conflicts=('fop')

build() {
  cd $srcdir/$pkgname-$pkgver
  ant package || return 1
  install -d $pkgdir/usr/share/java/fop/ || return 1
  install -d $pkgdir/usr/bin/ || return 1
  install -d $pkgdir/etc || return 1
  install --mode=644 $srcdir/fop-0.95/build/fop.jar \
    $pkgdir/usr/share/java/fop || return 1
  install --mode=644 $srcdir/fop.conf $pkgdir/etc || return 1
  install $srcdir/fop-0.95/fop $pkgdir/usr/bin/ || return 1
}
