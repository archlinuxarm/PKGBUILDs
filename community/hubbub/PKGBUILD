# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Paulo Matias <matiasΘarchlinux-br·org>
pkgname=hubbub
pkgver=0.0.1
pkgrel=1
pkgdesc="HTML5 compliant parsing library"
arch=("i686" "x86_64")
url="http://www.netsurf-browser.org/projects/hubbub"
license=('MIT')
depends=('libparserutils')
source=("http://www.netsurf-browser.org/projects/releases/${pkgname}-${pkgver}-src.tar.gz")
md5sums=('58c6e2b5a5906f3f0bf136c0c71b5403')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  sed -i 's/const uint8_t \*cptr;/const uint8_t \*cptr = 0;/;
          s/size_t len;/size_t len = 0;/' src/tokeniser/tokeniser.c || return 1
  make PREFIX=/usr || return 1
  make install PREFIX=/usr DESTDIR="${pkgdir}" || return 1
  install -Dm644 COPYING "${pkgdir}/usr/share/licenses/${pkgname}/COPYING"
}

