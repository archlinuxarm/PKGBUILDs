# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Alexander Fehr <pizzapunk gmail com>

pkgname=tracker
pkgver=0.6.95
pkgrel=3
pkgdesc="Powerful object database, tag/metadata database, search tool and indexer"
arch=('i686' 'x86_64')
url="http://www.gnome.org/projects/tracker/"
license=('GPL')
depends=('sqlite3' 'hal' 'gmime' 'poppler-glib'
         'libexif' 'libgsf' 'exempi' 'gstreamer0.10'
	 'gnome-desktop' 'libnotify' 'xdg-utils' 'raptor')
makedepends=('intltool' 'deskbar-applet')
optdepends=('deskbar-applet')
options=('!libtool')
conflicts=('libtracker')
provides=('libtracker=0.6.6')
install=tracker.install
source=(http://ftp.gnome.org/pub/GNOME/sources/tracker/0.6/tracker-$pkgver.tar.bz2)
md5sums=('a4edc8aa830070bd3f1d80a7df07c80c')

build() {
  cd $startdir/src/tracker-$pkgver
  ./configure --prefix=/usr --sysconfdir=/etc  --libexecdir=/usr/lib/$pkgname \
    --enable-external-sqlite --enable-video-extractor=gstreamer --enable-file-monitoring=inotify \
    --disable-unac \
    --enable-libtrackergtk --enable-preferences \
    --enable-gui --enable-trackerapplet --enable-deskbar-applet --enable-tracker-search-tool
  make || return 1
  make DESTDIR=$startdir/pkg install
}
