# Maintainer: Aaron Schaefer <aaron@elasticdog.com>
pkgname=vim-rails
pkgver=3.4
_sourceid=10297
pkgrel=3
pkgdesc='A Vim plugin for enhanced Ruby on Rails application development'
arch=('any')
url='http://www.vim.org/scripts/script.php?script_id=1567'
license=('custom:vim')
depends=('vim')
install=vimdoc.install
source=("http://www.vim.org/scripts/download_script.php?src_id=$_sourceid" license.txt)
md5sums=('cb13eea98e00e5f9a99b579e7b145b11' 'cd49910a3dde6fe0a7e24ebe8cbf7066')

build() {
  cd $srcdir
  mv download_script.php?src_id=$_sourceid rails-$pkgver.zip
  unzip -qqo rails-$pkgver.zip

  installpath="$pkgdir/usr/share/vim/vimfiles"

  install -D -m644 autoload/rails.vim $installpath/autoload/rails.vim
  install -D -m644 doc/rails.txt $pkgdir/usr/share/vim/doc/rails.txt
  install -D -m644 plugin/rails.vim $installpath/plugin/rails.vim

  install -Dm644 ${srcdir}/license.txt ${pkgdir}/usr/share/licenses/${pkgname}/license.txt
}
