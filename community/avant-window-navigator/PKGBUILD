# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Timm Preetz <timm@preetz.us>
pkgname=avant-window-navigator
pkgver=0.3.2
pkgrel=2
pkgdesc="Fully customisable dock-like window navigator for GNOME"
arch=('i686' 'x86_64')
url="https://launchpad.net/awn"
license=('GPL')
depends=('libwnck' 'gnome-desktop>=2.0' 'libgnome>=2.0' 'gnome-vfs>=2.0' \
         'gconf>=2.0' 'xproto' 'dbus-glib' 'libglade>=2.0' 'libxdamage' \
	 'libxcomposite' 'libxrender' 'python>=2.5' 'gnome-python-desktop' \
	 'gnome-python-extras' 'gnome-vfs' 'pyxdg' 'libgnomeui' 'python-feedparser')
makedepends=('intltool' 'gnome-doc-utils')
install=avant-window-navigator.install
options=('!libtool')
source=(https://edge.launchpad.net/awn/0.2/$pkgver/+download/$pkgname-$pkgver.tar.gz)
md5sums=('e884bfaf9e3f4a7a99373227d7a24b5f')

build() {
  cd $startdir/src/$pkgname-$pkgver
  ./configure --prefix=/usr --sysconfdir=/usr/share --with-backend=gnome --disable-schemas-install || return 1
  sed -i 's|${prefix}/etc|${prefix}/share|' Makefile || return 1

  make || return 1
  make GCONF_DISABLE_MAKEFILE_SCHEMA_INSTALL=1 DESTDIR=$startdir/pkg install || return 1
}
