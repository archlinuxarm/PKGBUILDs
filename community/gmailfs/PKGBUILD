# Contributor: Jaroslaw Swierczynski <swiergot@aur.archlinux.org>
# Contributor: Wael Nasreddine <gandalf@siemens-mobiles.org>
# Contributor: Alessio 'mOLOk' Bolognino <themolok@gmail.com>

pkgname=gmailfs
pkgver=0.8.0
pkgrel=1
arch=('i686' 'x86_64')
pkgdesc="Mrountable filesystem using your Gmail account as a storage medium"
url="http://www.richard.jones.name/google-hacks/gmail-filesystem/gmail-filesystem.html"
license=("GPL")
backup=('etc/gmailfs/gmailfs.conf')
depends=('libgmail>=0.1.4' 'python-fuse')
install=gmailfs.install
source=(http://richard.jones.name/google-hacks/gmail-filesystem/$pkgname-$pkgver.tar.gz)
md5sums=('828417eb7355b61b0f474eabc826317f')

build() {
  cd $startdir/src/$pkgname-$pkgver
  sed -i -e "s|/etc/gmailfs.conf|/etc/gmailfs/gmailfs.conf|g" gmailfs.py || return 1
  install -D -m 755 gmailfs.py $startdir/pkg/usr/share/gmailfs/gmailfs.py
  install -D -m 755 mount.gmailfs $startdir/pkg/sbin/mount.gmailfs
  install -D -m 600 gmailfs.conf $startdir/pkg/etc/gmailfs/gmailfs.conf
}
