# $Id: PKGBUILD 1141 2009-08-12 22:03:45Z spupykin $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Maintainer: Vesa Kaihlavirta <vegai@iki.fi>
# Contributor: Arch Haskell Team <arch-haskell@haskell.org>

pkgname=gtk2hs
pkgver=0.10.1
pkgrel=3
pkgdesc="A GTK+2 binding for Haskell"
license=('LGPL')
url="http://gtk2hs.sourceforge.net"
arch=('i686' 'x86_64')
makedepends=('ghc>=6.10.4')
depends=('libglade' 'gtksourceview2' 'gconf' 'librsvg>=2.16' 'gtkglext')
makedepends=('alex' 'happy')
options=('strip' 'docs' 'zipman')
install=gtk2hs.install
source=(http://downloads.sourceforge.net/$pkgname/$pkgname-$pkgver.tar.gz)
md5sums=('76774b092d4d584bb0a03ded3756d394')

build() {
  export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/opt/gnome/lib/pkgconfig

  cd $startdir/src/$pkgname-$pkgver

  autoreconf
  ./configure --prefix=/usr --enable-libglade --enable-gconf \
    	      --enable-svg --enable-opengl \
              --without-pkgreg --disable-split-objs

  make || return 1
  make DESTDIR=$startdir/pkg install || return 1

  mkdir -p $pkgdir/usr/share/doc/gtk2hs
  cp -r demo $pkgdir/usr/share/doc/gtk2hs/
}
