# $Id: PKGBUILD 1649 2009-08-27 18:07:31Z ibiru $
# Maintainer: Allan McRae <allan@archlinux.org>
# Contributor: fancris3 <fancris3 at gmail.com>

pkgname=terminator
pkgver=0.13
pkgrel=6
pkgdesc="an application that provides lots of terminals in a single window"
arch=('i686' 'x86_64')
url="http://www.tenshu.net/terminator/"
license=('GPL2')
depends=('vte' 'pygtk' 'xdg-utils')
makedepends=('desktop-file-utils' 'gettext' 'intltool')
optdepends=('gnome-python: gnome-terminal profile support')
install=terminator.install
source=(https://launchpad.net/terminator/trunk/${pkgver}/+download/${pkgname}_${pkgver}.tar.gz)
md5sums=('808e48d2b69f3366fb6ea14312ea403e')

build() {
  cd "${srcdir}/${pkgver}"
  python setup.py build || return 1
  python setup.py install --skip-build --root="${pkgdir}"

  rm -f ${pkgdir}/usr/share/applications/${pkgname}.desktop
  rm -f ${pkgdir}/usr/share/icons/hicolor/icon-theme.cache
  install -Dm 644 ${srcdir}/0.13/data/${pkgname}.desktop.in ${pkgdir}/usr/share/applications/${pkgname}.desktop
  sed -i 's|_||' ${pkgdir}/usr/share/applications/${pkgname}.desktop
}
