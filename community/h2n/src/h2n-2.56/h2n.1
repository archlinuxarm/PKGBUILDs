.TH h2n 1 "March 31, 2004"
.SH NAME
\fBh2n \fP\- Translate host table to name server file format
\fB
.SH SYNOPSIS
\fBh2n\fP [\fIoption\-list\fP]
.SH DESCRIPTION
\fBh2n\fP translates \fI/etc/hosts\fP to DNS zone files and creates BIND
\fInamed.[boot|conf]\fP configuration files.  This tool can be run once
or many times.  After converting your host table to DNS format, you can
manually maintain the DNS files, or you can maintain the host table and
run \fBh2n\fP each time you modify \fI/etc/hosts\fP.  \fBh2n\fP
automatically increments the serial number in each DNS file when it makes
a new one.
.PP
\fBh2n\fP generates files starting with the prefix "db."  These are called
"db files."  The domain data are stored in a file called \fIdb.DOMAIN\fP,
where \fIDOMAIN\fP defaults to the first label in your domain name (given
with the \fB-d\fP option).  The address-to-name data are stored in files
named \fIdb.NET\fP, where \fINET\fP is a network number (given with the
\fB-n\fP option).  An email address of the person responsible for the domain
is included in the start-of-authority record for the domain (given
with the \fB-u\fP option).
.PP
Each time \fBh2n\fP is run, it generates the DNS files from scratch.  Any
changes that were manually made to the DNS files are lost.  If you need to
add resource records to a db file generated by \fBh2n\fP, put the records
in a file prefixed with "spcl." instead of "db."  \fBh2n\fP will add this
file's data by appending an $INCLUDE directive to the end of the
\fIdb.DOMAIN\fP or \fIdb.NET\fP file.  Top-of-zone, i.e., zone apex, records
can be added to the forward-mapping \fIdb.DOMAIN\fP file with the \fB-T\fP
option instead of placing them in a "spcl" file.  If a "spcl" file is present
for \fB-d\fP \fIDOMAIN\fP, \fBh2n\fP will first read the DNS resource
records from the file, check them for errors, and store the information
internally.  The "spcl" data is then referenced during subsequent processing
of the host table to prevent conflicting DNS records from being generated.
.PP
By default, the MX RRset of a host consists of a single MX record with
a weight of 10 that points to the host itself as the mail exchanger.
The default MX RRset can be extended by specifying a global set of
MX records with the \fB-m\fP option.  All MX record generation for the
domain can be suppressed by specifying the \fB-M\fP option.  To fine-tune
the MX RRset on a host-by-host basis, the following flags can be specified
in the comment field of the relevant host table entry:
.TP 11
[no mx]
Suppress all MX record generation for a host.  This is useful for such
devices as printers and networking equipment which do not need mailer
information.
.TP 11
[smtp]
Generate the default self-pointing MX record but suppress the global
MX record(s) from the \fB-m\fP option(s).  In environments that have
a network firewall, this can be used to prevent external mail from
reaching a host while still providing MX information for the routing
of internal mail.
.TP 11
[no smtp]
Suppress the default self-pointing MX record but include any global
MX record(s) from the \fB-m\fP option(s).  Situations in which this
can be useful are:
.RS 11
.TP 3
*
A host no longer receives mail and its host name can not become
an alias of the replacement mailhost.
.TP 3
*
All mail should first be routed to one or more mail hubs where virus
and/or spam filtering can take place before being delivered to the
host's IP address.
.PP
Mail for hosts flagged with [no smtp] will instead be routed to
the highest-priority mailhost(s) in the set of global MX records.
.PD 0
.TP 6
NOTE:
This flag requires that the MTA (Message Transfer Agent, e.g., sendmail,
postfix, exim, etc.) running on the target mailhost(s) be configured to
either accept mail on behalf of the host having the [no smtp] flag or
deliver mail to the flagged host's IP address in lieu of the host's
suppressed self-pointing MX record.
.RE
.PD
.PP
Another comment section flag is [TTL=\fInum\fP], where \fInum\fP is a
specific time-to-live value to use for all resource records generated
from a hostname entry in the host table.  This is useful for setting
artificially high or low TTL values for individual hosts.  For
example, if you are going to be moving a host to a new IP address,
you can use this to set a low TTL value such as 900 (seconds).  This
limits how long the old IP address, aliases, and/or MX records will
be cached on non-authoritative name servers.  The maximum any client
will have to wait for the new IP address to be seen would be 15
minutes in this case.  Time intervals can also appear symbolically
as seconds, minutes, hours, days, and/or weeks, e.g., [TTL=15M],
[TTL=2h30m], etc.
.PP
The [no ptr] flag is available for situations where it's desired
to suppress the creation of the reverse-mapping PTR record for a
particular host table entry.  For example, if secondary A records
are needed for a particular IP address, the additional names can
either be added via a "spcl" file or, perhaps more conveniently,
entries with the same IP address but alternate names can be added
to the host table.  Specifying the [no ptr] flag for the secondary
entries leaves a single PTR record that points to the primary
canonical hostname.
.PP
[rafcp] is a comment field flag which causes certain records to be
created or not created.  Including [rafcp] in the comment section
will cause WKS records indicating RAFCP support to be generated for
the host and suppress generation of all MX records, even those
specified with the \fB-m\fP option.  This is to support routable AFCP on
the TIO-side of HP 3000s which use Telnet Express Boxes as front ends.
.PP
Three additional comment field flags are [no \fB-c\fP], [mh=...] and
[rp=...].  They correspond to and are documented in the sections
dealing with the \fB-c\fP, \fB+m\fP, and \fB-r\fP options, respectively.
.PP
By default, \fBh2n\fP creates a BIND 4 boot file, \fI./named.boot\fP
(\fB-b\fP option), and a BIND 8/9 configuration file, \fI./named.conf\fP
(\fB+c\fP option).
Files for caching-only name servers, \fI./[boot|conf].cacheonly\fP, are
also created unless they already exist.  If either of the \fB-z\fP
or \fB-Z\fP options are used, \fBh2n\fP creates a boot/conf file
called \fI./[boot|conf].sec.save\fP or \fI./[boot|conf].sec\fP, respectively,
for a slave name server.
\fBh2n\fP will also look for the following files and, if found, append
their contents to the appropriate boot/conf files:
.PP
.RS 3
 ./spcl-boot or ./spcl-conf
 ./spcl-boot.sec or ./spcl-conf.sec
 ./spcl-boot.sec.save or ./spcl-conf.sec.save
.RE
.PP
It is also possible to prepend site-specific configuration data
such as ACL definitions to BIND 8/9 conf files with the \fB+C\fP option. 
.PP
When \fBh2n\fP starts, it will look for a special configuration file in
which host-specific network connectivity information can be entered
to help \fBh2n\fP operate more efficiently in your environment.
The filename search paths are:
.PP
.RS 3
 $HOME/.h2nrc
 ./h2n.conf
 /etc/h2n.conf
 /etc/opt/h2n/h2n.conf
 /usr/local/etc/h2n.conf
.RE
.PP
In addition to host-specific network information, \fBh2n\fP command-line
options can be included as a way to customize various default values.
For more detailed documentation, refer to the sample \fIh2n.conf\fP file
which is included in the \fBh2n\fP distribution.
.SH OPTIONS
.TP 5
.BI \-a " NET[:NETMASK|/CIDR [mode=S]] ..."
Add information about hosts from network \fINET\fP to the \fB-d\fP \fIDOMAIN\fP
db file.  This is similar to the \fB-n\fP option, but no PTR data 
is generated, i.e., no \fIdb.NET\fP file is created.  This is useful
when another server is responsible for address-to-name mapping,
but this server is responsible for name-to-address mapping.
\fICIDR\fP sizes /8 to /32 are allowed with the default being /24
unless overridden by a previous \fB-N\fP option.  If \fINET\fP is
a supernet sized /8 to /24 (class A, B, or C) under which smaller
networks (class B, C, or sub-C) are delegated, the \fImode=\fP\fIS\fP
argument allows those delegated subnets to be specified in subsequent
\fB-n\fP/\fB-a\fP options (see the \fB+S\fP option for details).
Including multiple \fINET\fP arguments and/or \fB-a\fP options is allowed.
.RS 5
.TP 4
.B
Example:
\fB-a\fP 192.249.249  15.15.16:255.255.248.0  15.0.48/21
.RE
.TP 5
.B
\-A
Don't create name server data for aliases in the host table.
.TP 5
.BI \-b " BOOTFILE"
Use \fIBOOTFILE\fP (BIND 4) instead of the default: \fI./named.boot\fP.
.TP 5
.BI \-B " PATH"
Sets the directory where boot/conf files will be written
(\fInamed.[boot|conf]\fP, \fI[boot|conf].sec\fP and/or
\fI[boot|conf].sec.save\fP, and \fI[boot|conf].cacheonly\fP).
You must specify an absolute pathname.
.TP 5
.BI \-c " REMOTE-DOMAIN [mode=[A][I][D[Q]]] ..."
Create CNAME records in the default domain for all the hosts in
\fIREMOTE-DOMAIN\fP.  These CNAME records are generated before any
other data in the default \fIDOMAIN\fP specified in the \fB-d\fP option, i.e,
RR name conflicts favor the \fB-c\fP \fIREMOTE-DOMAIN\fP over the default
\fIDOMAIN\fP.  Also, CNAME records are only generated for canonical
names in \fIREMOTE-DOMAIN\fP - aliases are ignored.  This default
behavior can be overridden by including one or more of the
following \fImode=\fP flags:
.RS 5
.TP 3
.I A
Create additional CNAMEs for aliases in \fIREMOTE-DOMAIN\fP.
.TP 3
.I I
Declare \fIREMOTE-DOMAIN\fP to be an intra-zone subdomain of
the \fB-d\fP option \fIDOMAIN\fP, e.g., \fB-c\fP actor.movie.edu  \fImode=I\fP
implies that there are no NS records in the movie.edu
zone that delegate actor.movie.edu to a child zone.
The subdomain "actor" is just another DNS label that a
host within the movie.edu zone may have as part of its
domain name.  The resulting intra-zone CNAME would be:
.PP
.RS 6
 host.movie.edu.   CNAME   host.actor.movie.edu.
.RE
.PP
.RS 3
After the CNAME is generated or registered, normal
processing of the host table entry continues. i.e.,
A, PTR, and other RRs are generated as necessary.
.RE
.TP 3
.I D
Defer creation of CNAMEs, i.e., RR names in the default
\fIDOMAIN\fP takes precedence over naming conflicts in the
\fIREMOTE-DOMAIN\fP.
.TP 3
.I Q
Do not issue a warning message when a deferred CNAME
can not be created due to a naming conflict in the default
\fIDOMAIN\fP.  Valid only when the \fID\fP flag is also specified.
.RE
.PP
.RS 5
Including multiple \fIREMOTE-DOMAIN\fP arguments and/or \fB-c\fP options is
allowed.  The \fB-c\fP option can be effectively canceled for any host
by including the [no \fB-c\fP] flag in its host table comment field.
.PD 0
.TP 6
NOTE:
The collection of \fIREMOTE-DOMAIN\fP names is sorted so that
subdomains within a domain tree are matched before their parent domains,
i.e., the most specific domain matches before the least specific one.  If a
\fIREMOTE-DOMAIN\fP is a parent domain of the \fB-d\fP option \fIDOMAIN\fP,
an exception is made and the \fB-c\fP option is NOT matched for host table
entries matching the \fB-d\fP \fIDOMAIN\fP.
.RE
.PD
.TP 5
.BI \+c " [CONFFILE] [mode=S|M]"
Use \fICONFFILE\fP (BIND 8/9) instead of the default: \fI./named.conf\fP
The following optional \fImode=\fP arguments are recognized:
.RS 5
.TP 3
.I S
Create \fICONFFILE\fP with zone statements in single-line format.
This is the default.
.TP 3
.I M
Create \fICONFFILE\fP with zone statements in multi-line, indented format.
.RE
.TP 5
.BI \-C " COMMENT-FILE"
Create resource records by using keys in the host table comment
field as indices into \fICOMMENT-FILE\fP.  \fICOMMENT-FILE\fP contains
"key:resource record" pairs, e.g.,
.PP
.RS 8
 B1000:IN HINFO hp9000-B1000 hp-ux
.RE
.PP
.RS 5
When \fBh2n\fP encounters "B1000" in the comment section of the host
table, it creates a resource record by replacing the "B1000:"
with the host's canonical name.
.RE
.TP 5
.BI \+C " PRE-CONFFILE"
Prepend the contents of \fIPRE-CONFFILE\fP to the BIND 8/9 \fICONFFILE\fP
of the \fB+c\fP option.  Useful for holding ACLs, logging specifications
as an alternative to the \fB+L\fP option, and/or option specifications
if the \fB+O\fP option is used without an argument.
.TP 5
.BI \-d " DOMAIN [db=FILE1] [spcl=FILE2] [mode=D]"
Your domain name is \fIDOMAIN\fP.  Use the \fIdb=\fP and/or \fIspcl=\fP
arguments to override the default filenames of \fIdb.LABEL\fP and
\fIspcl.LABEL\fP where LABEL is the first label of \fIDOMAIN\fP, e.g.,
label.movie.edu.  Use the \fImode=\fP\fID\fP argument to set the default
domain of unqualified canonical host names in the hostfile to \fIDOMAIN\fP.
.TP 5
.BI \-e " EXCLUDED-DOMAIN ..."
Exclude data from the hostfile with names in \fIEXCLUDED-DOMAIN\fP.
Specifying multiple \fIEXCLUDED-DOMAIN\fP arguments and/or \fB-e\fP options
is allowed.
.RS 5
.PD 0
.TP 6
NOTE:
The collection of \fIEXCLUDED-DOMAIN\fPs is sorted so that
only the most top-level domain of a domain tree is kept since its
subdomains are essentially redundant in this context.  If any
\fIEXCLUDED-DOMAIN\fP is the parent of the \fIDOMAIN\fP specified in
the \fB-d\fP option and/or a \fIREMOTE-DOMAIN\fP of the \fB-c\fP/\fB-p\fP
options, an exception is made and the \fIDOMAIN\fP or \fIREMOTE-DOMAIN\fP
is NOT excluded.
.RE
.PD
.TP 5
.BI \-f " FILE"
Command line options are read from a file called \fIFILE\fP.  This
option cannot be used within \fIFILE\fP.  Comments are allowed in \fIFILE\fP
using the same style as in the host table or DNS database files,
i.e., comments start after an unquoted "#" or ";" and continue
to the end of the line.  The quoting characters ["'\\\] can be
used to quote whitespace and are parsed using rules similar to
the shell.
.TP 5
.BI -h " HOST"
Set \fIHOST\fP in the MNAME (master name server) field of the SOA
record.  The default is the host on which you run \fBh2n\fP.
.TP 5
.BI \-H " HOSTFILE"
Use \fIHOSTFILE\fP instead of \fI/etc/hosts\fP.
.TP 5
.BI \-i " NUM"
Set the SOA serial number of all created zones to \fINUM\fP.
.RS 5
.TP 6
NOTE:
Serial number changes comply with the wrap-around arithmetic specified
by RFC-1982.  Setting the \fB-i\fP option may require a subsequent run
by \fBh2n\fP before \fINUM\fP appears as the SOA serial number.
.RE
.TP 5
.BI \-I " [ignore|warn|audit|audit-only|warn-strict|fail|strict] [rfc2782]"
Controls the level of checking done on hostnames for conformance
to naming standards established by RFC-952 and RFC-1123.
The \fB-I\fP option accepts one of the following arguments which
are ordered such that each subsequent argument includes the
functionality of the preceding one:
.RS 5
.TP 9
.I ignore
Disables name checking and zone data auditing.
.TP 9
.I warn
Issues a warning about hostnames and domain names that
do not conform to RFC-952 and RFC-1123.
.RS 9
.PD 0
.TP 6
NOTE:
Hostname aliases that generate a CNAME
record type (the most common case) are generally
not subject to the restrictions of these two RFCs.
This flexibility of alias names allows the preservation
of an otherwise illegal hostname by making it become an
alias instead.
.RE
.PD
.TP 9
.I audit
Issues a warning about \fB-h\fP/\fB-s\fP/\fB-S\fP/\fB-m\fP options that point
to CNAMEs or nonexistent domain names.  If "spcl" files
exist, the same checks are also done with NS, MX, SRV,
PTR, AFSDB, and RT records as well as checks for dangling
CNAMEs and RP records with missing TXT records.  Delegated
subdomains are checked for having at least two listed
name servers, no missing glue records, no non-glue
records at or below zone cuts, and NS RRsets with
consistent TTL values.
This is the default setting.
.TP 9
.I audit-only
Same as \fIaudit\fP but excludes the name checking of the
\fIwarn\fP argument.
.TP 9
.I warn-strict
Extends conformance checking to the RFC-952 requirement
that hostnames and their aliases in the host table be
at least two characters in length.  Includes \fIaudit\fP.
.TP 9
.I fail
Performs the same level of checking as the \fIwarn\fP
argument except that non-compliant hostnames and
aliases are rejected.  Includes \fIaudit\fP.
.TP 9
.I strict
Performs the same level of checking as the \fIwarn-strict\fP
argument except that non-compliant hostnames and
aliases are rejected.  Includes \fIaudit\fP.
.TP 9
.I rfc2782
May be specified independently of the above arguments to
check for the presence of "_service._protocol" as the
leading labels in the owner names of SRV records.
.RE
.PP
.RS 5
Operators of BIND 4/8 name servers that are configured with a
"check-names" option setting of "fail" should run \fBh2n\fP with the
\fB-I\fP \fIfail\fP option as well.
.RE
.TP 5
.BI \-L " NUM"
Explicitly use a file handle limit of \fINUM\fP when generating
database files.  Default value is 120.
.TP 5
.BI \+L " [LOG-SPEC]"
Add a logging specification to the config files (\fInamed.conf\fP,
\fIconf.sec\fP, \fIconf.sec.save\fP).  If you only specify \fB+L\fP,
you'll get a simple logging specification that will eliminate a lot
of bogus information that would otherwise fill up your syslog.  You
can override this by giving your own entries, e.g.,
.PP
.RS 8
 \fB+L\fP category lame-servers { null; };
.RE
.PP
.RS 5
For each \fB+L\fP \fILOG-SPEC\fP option that is specified, a line
containing the \fILOG-SPEC\fP is added in the config file, thus
including more than one \fB+L\fP option is allowed.  Omitting this
option will also omit any logging specification from appearing in
the config files.  See the \fBnamed\fP man page for valid logging options.
.RE
.TP 5
.BI \-m " WEIGHT:MX-HOST ..."
Include an MX record that points to \fIMX-HOST\fP at \fIWEIGHT\fP
for each host in your domain which has neither the [no mx] nor
[smtp] comment field flags.  Including multiple \fIWEIGHT:MX-HOST\fP
arguments and/or \fB-m\fP options is allowed.
.RS 5
.TP 4
.B
Example:
\fB-m\fP 10:terminator.movie.edu  20:wormhole
.RE
.TP 5
.BI \+m " [D|C|P|CP]"
Controls the method by which DNS records get generated for hosts
with multiple addresses.  By default, the canonical name of such
multi-homed hosts is assigned an A record for each address.
Aliases unique to one address are also assigned an A record.
Aliases common to all addresses are assigned a CNAME record.  The
PTR record for each address points to the multi-address canonical
name.  This default behavior can be overridden by specifying one
of the following flags:
.RS 5
.TP 3
.I D
Same as the default behavior.
.TP 3
.I C
The first alias unique to one address is still assigned
an A record but subsequent aliases unique to the address
are assigned CNAME records which point to the first alias.
.TP 3
.I P
PTR records do not point to the multi-address canonical name
but instead point to the first alias having an A record,
i.e., the unique name of the specific network interface.
.RE
.PP
.RS 5
Combining the \fIC\fP and \fIP\fP flags is allowed.  These global
specifications can be overridden for any host by including the
analogous [mh=d|c|p|cp] flag in its host table comment field.
.RE
.TP 5
.B
\-M
Don't generate MX records.
.TP 5
.BI \-n " NET[:NETMASK|/CIDR [mode=S] [domain=NETDOMAIN] [ptr-owner=TEMPLATE]]"
Add information about hosts from network \fINET\fP to the \fB-d\fP \fIDOMAIN\fP
db file.  \fICIDR\fP sizes /8 to /32 are allowed with the default being /24
unless overridden by a previous \fB-N\fP option.  For \fICIDR\fP sizes /8
through /24, PTR data is written to the corresponding \fIdb.NET\fP file in
the "in-addr.arpa" domain.  Specifying a \fICIDR\fP size of /8, e.g., \fB-n\fP
\fINET\fP/8, will cause PTR data to be written to a single class-A
\fIdb.NET\fP file.  \fICIDR\fP sizes 9 through 16 will cause the equivalent
number of class-B \fIdb.NET\fP files to be created.  \fICIDR\fP sizes 17
through 24 will cause the equivalent number of class-C \fIdb.NET\fP files to
be created.  If \fINET\fP is a supernet sized /8 to /24 (class A, B, or C)
under which smaller networks (class B, C, or sub-C) are delegated, the
\fImode=\fP\fIS\fP argument allows those delegated subnets to be specified in
subsequent \fB-n\fP/\fB-a\fP options (see the \fB+S\fP option for details).
For sub-class-C networks, i.e., \fICIDR\fP sizes /25 through /32, refer to
the following sections that explain the \fIdomain=\fP and \fIptr-owner=\fP
arguments for details regarding various default values.  Including multiple
\fINET\fP arguments and/or \fB-n\fP options is allowed.
.RS 5
.TP 4
\fIdomain=NETDOMAIN\fP (for \fINET\fP/25 to \fINET\fP/32 only)
Specifies that the PTR records are to reside in the DNS
zone \fINETDOMAIN\fP.  If omitted, \fINETDOMAIN\fP defaults to the
naming scheme illustrated by the following examples:
.PP
.RS 7
 192.168.4.0/25  ->  0-127.4.168.192.in-addr.arpa
 192.168.4.0/26  ->  0-63.4.168.192.in-addr.arpa
 192.168.4.0/27  ->  0-31.4.168.192.in-addr.arpa
 192.168.4.0/28  ->  0-15.4.168.192.in-addr.arpa
 192.168.4.0/29  ->  0-7.4.168.192.in-addr.arpa
 192.168.4.0/30  ->  0-3.4.168.192.in-addr.arpa
 192.168.4.0/31  ->  0-1.4.168.192.in-addr.arpa
 192.168.4.0/32  ->  0.4.168.192.in-addr.arpa
.RE
.PP
.RS 4
The default reverse-mapping db files that \fBh2n\fP creates
are named according to the following pattern:
.PP
.RS 3
 192.168.4.0/25  ->  \fIdb.192.168.4.0-127\fP
 192.168.4.0/26  ->  \fIdb.192.168.4.0-63\fP
 192.168.4.0/27  ->  \fIdb.192.168.4.0-31\fP
 192.168.4.0/28  ->  \fIdb.192.168.4.0-15\fP
 192.168.4.0/29  ->  \fIdb.192.168.4.0-7\fP
 192.168.4.0/30  ->  \fIdb.192.168.4.0-3\fP
 192.168.4.0/31  ->  \fIdb.192.168.4.0-1\fP
 192.168.4.0/32  ->  \fIdb.192.168.4.0\fP
.RE
.PP
Special characters that are are valid in a domain name but
troublesome in filenames will get translated to the "%"
character in the db files, e.g.,
.PP
.RS 3
 domain=0/28.4.168.192.in-addr.arpa  ->  \fIdb.192.168.4.0%28\fP
.RE
.PP
PTR records can even be written to the forwarding-mapping
\fIDOMAIN\fP in the \fB-d\fP option, i.e., \fIdomain=\fP\fIDOMAIN\fP,
as long as the \fB-d\fP option precedes the \fB-n\fP option.
Additional resource records can be added to a \fIspcl.NET\fP file
where \fINET\fP is suffix of the corresponding \fIdb.NET\fP file.
\fBh2n\fP will append such "spcl" files to their matching "db"
files via an $INCLUDE directive.
.RE
.TP 4
\fIptr-owner=TEMPLATE\fP (for \fINET\fP/25 to \fINET\fP/32 only)
Specifies that \fITEMPLATE\fP be used to build the zone-relative
names in the owner field of PTR records in the \fINETDOMAIN\fP
zone file.  Substitution tokens based upon each octet of an IPv4 address
are used to construct the appropriate \fITEMPLATE\fP.  The octet
tokens (from left to right) are "$1", "$2", "$3", and "$4".
To illustrate this concept, here are the fixed templates
used by \fBh2n\fP to construct PTR owner names for class A, B, and C
\fINET\fPs given a host name with an IP address of "A.B.C.D":
.PP
.RS 7
 Class-A network:
      $ORIGIN  A.in-addr.arpa.
      D.C.B      PTR      host.example.com.
     --------
     $4.$3.$2  <- effective template
     \fB-n\fP A/8      (domain=A.in-addr.arpa)
                 (ptr-owner=$4.$3.$2   )
                  ^^^^^^^^^^^^^^^^^^^^^
                   effective arguments
.PP
 Class-B network:
      $ORIGIN  B.A.in-addr.arpa.
      D.C        PTR      host.example.com.
     -----
     $4.$3    <- effective template
     \fB-n\fP A.B/16  (domain=B.A.in-addr.arpa)
                (ptr-owner=$4.$3        )
                 ^^^^^^^^^^^^^^^^^^^^^^^
                   effective arguments
.PP
 Class-C network:
      $ORIGIN  C.B.A.in-addr.arpa.
      D          PTR      host.example.com.
     ---
     $4         <- effective template
     \fB-n\fP A.B.C/24  (domain=C.B.A.in-addr.arpa)
                  (ptr-owner=$4             )
                   ^^^^^^^^^^^^^^^^^^^^^^^^^
                      effective arguments
.RE
.PP
.RS 4
If the \fIptr-owner=\fP argument is omitted, \fITEMPLATE\fP defaults
to "$4".  For example, given the following host table:
.PP
.RS 3
 192.168.4.0  drama.movie.edu
 192.168.4.1  comedy.movie.edu
 192.168.4.2  action.movie.edu
 192.168.4.3  cartoon.movie.edu
.RE
.PP
and the following RFC-2317 delegation in \fINET\fP's parent zone:
.PP
.RS 3
 $ORIGIN 4.168.192.in-addr.arpa.
 $GENERATE  0-3   $    CNAME   $.0-3
 0-3                   NS      ns1.movie.edu.
                       NS      ns2.movie.edu.
.RE
.PP
The following \fB-n\fP option would generate the required PTR
records in file \fIdb.192.168.4.0-3\fP:
.PP
.RS 3
 \fB-n\fP 192.168.4.0/30
.PP
 $ORIGIN 0-3.4.168.192.in-addr.arpa.
 0     PTR     drama.movie.edu.
 1     PTR     comedy.movie.edu.
 2     PTR     action.movie.edu.
 3     PTR     cartoon.movie.edu.
.RE
.PP
To illustrate the flexibility in accommodating various
RFC-2317 naming schemes, suppose that the PTR records
are to be mapped back to the "movie.edu" zone like so:
.PP
.RS 3
 $ORIGIN 4.168.192.in-addr.arpa.
 $GENERATE  0-3  $  CNAME  192-168-4-$.movie.edu.
.RE
.PP
The following \fBh2n\fP options would be needed to generate the
required owner names of the PTR records in file \fIdb.movie\fP:
.PP
.RS 3
 \fB-d\fP movie.edu
 \fB-n\fP 192.168.4.0/30  domain=movie.edu  ptr-owner=$1-$2-$3-$4
.PP
 $ORIGIN movie.edu.
 192-168-4-0      PTR     drama
 192-168-4-1      PTR     comedy
 192-168-4-2      PTR     action
 192-168-4-3      PTR     cartoon
 drama            A       192.168.4.0
 comedy           A       192.168.4.1
 action           A       192.168.4.2
 cartoon          A       192.168.4.3
.RE
.RE
.RE
.TP 5
.BI \-N " NETMASK|/CIDR"
Apply \fINETMASK\fP or \fICIDR\fP to all subsequent \fB-n\fP/\fB-a\fP \fINET\fP
specifications as an alternative to specifying the size of each \fINET\fP.
Specifying a subnet mask or \fICIDR\fP size with \fB-n\fP/\fB-a\fP overrides
the \fB-N\fP subnet mask or size for that \fINET\fP only.  May be specified
multiple times for different blocks of \fB-n\fP/\fB-a\fP \fINET\fPs.
\fICIDR\fP sizes /8 to /32 are allowed.
.TP 5
.BI \-o " [REFRESH]:[RETRY]:[EXPIRE]:[MINIMUM]:[DEFAULT-TTL]"
Change the default SOA values to the values provided.  For
name servers running versions of BIND prior to 8.2, the default
values are (10800:3600:604800:86400).  For versions 8.2 and later
which implement RFC-2308, the defaults are (3H:1H:1W:10M:1D) with
\fIDEFAULT-TTL\fP appearing in a $TTL directive and \fIMINIMUM\fP being
semantically treated as a negative caching value.
\fBh2n\fP will always try to determine the BIND version of the master
name server (\fB-h\fP option or localhost) and act accordingly.
However, if the BIND version is unavailable, \fBh2n\fP version 2.40
and later will create RFC-2308 formatted zone files by default
*unless* the \fB-o\fP option is specified with exactly four explicit
and/or placeholder values.
.RS 5
.PD 0
.TP 6
NOTE:
These built-in default values do not override those in
zone files that already exist.  Use the \fB-o\fP option to
specify SOA values that will override those in existing zone
files as well as becoming the default values for new zone files.
Also, existing $TTL directives will force RFC-2308 format unless
the detected BIND version is less than 8.2, in which case the
directives will be removed.
.RE
.PD
.PP
.RS 5
.B
Examples:
.RS 4
.PD 0
.TP 4
\fB-o\fP ::::12H
Generates a "$TTL 12H" directive in all zone files.
.PD
.TP 4
\fB-o\fP :::12H
Generates a non-RFC-2308 TTL of 12H in the SOA \fIMINIMUM\fP field of
all zone files *if* the detected BIND version is less than 8.2 or
is unavailable.
.TP 4
\fB-o\fP :::
Generates the same non-RFC-2308 format as the previous example but
using the built-in default SOA values instead.
.RE
.RE
.TP 5
.BI \-O " OPTION OPTION-ARGS"
Add a boot option specification to the boot files
(\fInamed.boot\fP, \fIboot.sec\fP, \fIboot.sec.save\fP), e.g.,
.PP
.RS 8
 \fB-O\fP options no-round-robin
.RE
.PP
.RS 5
See the \fBnamed\fP man page for valid options.  Including
more than one \fB-O\fP option is allowed.
.RE
.TP 5
.BI \+O " [OPTION-SPEC]"
Add an option section specification to the config files
(\fInamed.conf\fP, \fIconf.sec\fP, \fIconf.sec.save\fP), e.g.,
.PP
.RS 8
 \fB+O\fP round-robin no;
.RE
.PP
.RS 5
For each \fB+O\fP \fIOPTION-SPEC\fP option that is specified, a line
containing the \fIOPTION-SPEC\fP is added to the config file, thus
including more than one \fB+O\fP \fIOPTION-SPEC\fP option is allowed.
If you use a single \fB+O\fP option without an argument, the global
options section will not be generated.  This is useful if you want to
maintain a main \fInamed.conf\fP file for your master and slaves with
a complex mix of options {}, logging {}, and/or other global sections,
and "include" the \fBh2n\fP-generated zone sections.  Combine this
with a \fB+c\fP option.
.RE
.TP 5
.BI \+om " OPTION OPTIONS-ARGS"
Adds a zone-specific option to the config file (\fInamed.conf\fP),
e.g.,
.PP
.RS 8
 \fB+om\fP also-notify { 15.1.2.3; 15.1.2.4; };
.RE
.PP
.RS 5
This option is position dependent and applies to the last \fB-d\fP
or \fB-n\fP option specified, however, if a \fB+om\fP option appears
before any \fB-d\fP or \fB-n\fP options it is assumed that the
\fB+om\fP option applies to all zones.  Thus, it will be added to each
zone section in the config file.  Including multiple
\fIOPTION\fP/\fIOPTION-ARGS\fP argument pairs and/or \fB+om\fP
options is allowed.
.RE
.TP 5
.BI \+os " OPTION OPTIONS-ARGS"
Adds a zone-specific option to the config files
(\fIconf.sec\fP and/or \fIconf.sec.save\fP), e.g.,
.PP
.RS 8
 \fB+os\fP max-transfer-time-in 60;
.RE
.PP
.RS 5
Like the \fB+om\fP option, it is position dependent and applies to
the last \fB-d\fP or \fB-n\fP option specified.  Also, if a \fB+os\fP
option appears before any \fB-d\fP or \fB-n\fP options it is assumed
that the \fB+os\fP applies to all zones.  Including multiple
\fIOPTION\fP/\fIOPTION-ARGS\fP argument pairs and/or \fB+os\fP
options is allowed.
.RE
.TP 5
.BI \-p " REMOTE-DOMAIN [mode=A|P]"
Create only PTR data for hosts in \fIREMOTE-DOMAIN\fP.  This is useful
when a different server is responsible for the forward (name-to-
address) mapping data of \fIREMOTE-DOMAIN\fP but this server is
responsible for the reverse (address-to-name) mapping data of
each \fB-n\fP option.  Including multiple \fIREMOTE-DOMAIN\fP arguments and/or
\fB-p\fP options is allowed.  Each \fIREMOTE-DOMAIN\fP may need a \fImode=\fP
argument with one of the following flags:
.RS 5
.TP 3
.I A
Required for each \fIREMOTE-DOMAIN\fP which had its forward
mapping data built with the \fBh2n\fP \fB-A\fP option in effect.
This prevents dangling PTR records from being generated for
multi-homed hosts in \fIREMOTE-DOMAIN\fP having the [mh=p]
or [mh=cp] flag in the comment field of the host table.  Can
also be specified as an override flag for \fIREMOTE-DOMAIN\fP
when the \fB+m\fP \fIP\fP option is in effect.
.TP 3
.I P
Enables the alternate method of PTR record generation for
multi-homed hosts in \fIREMOTE-DOMAIN\fP as previously described
for the \fB+m\fP \fIP\fP option when that option is not in effect.
This method is overridden for any host in \fIREMOTE-DOMAIN\fP
having the [mh=d] or [mh=c] flag in its comment field.
.RE
.RS 5
.TP 6
NOTE:
The collection of \fIREMOTE-DOMAIN\fP names is sorted so that
subdomains within a domain tree are matched before their parent domains,
i.e., the most specific domain matches before the least specific one.  If a
\fIREMOTE-DOMAIN\fP is a parent domain of the \fB-d\fP option \fIDOMAIN\fP,
an exception is made and the \fB-p\fP option is NOT matched for host table
entries matching the \fB-d\fP \fIDOMAIN\fP.
.RE
.TP 5
.B
\-P
Preserve upper-case characters of hostnames and aliases.
Requires the "Tie::CPHash" Perl module to be available.
.TP 5
.B
\-q
Work quietly.
.TP 5
.B
\-r
Enable creation of RP (Responsible Person) records.  Look for
strings in the comment fields of the host table that match
[rp=\fImail-addr\fP[ \fItext\fP]], where \fImail-addr\fP is a usual e-mail
address specification, and (optionally) \fItext\fP is a free-form text
string (usually containing a phone number and/or pager number, or
other info).  This construct is converted to an RP record
containing the e-mail address, and if \fItext\fP is present, a TXT
record is also added containing \fItext\fP (with the RP record
referencing the TXT record).
.TP 5
.BI \-s " SERVER ..."
List \fISERVER\fP for all zones.  Adds NS records for the zone(s)
corresponding to the \fB-d\fP option and all \fB-n\fP options.  Including
multiple \fISERVER\fP arguments and/or \fB-s\fP options is allowed.
.TP 5
.BI \-S " SERVER ..."
List \fISERVER\fP for specific zone(s).  Adds NS records for the
zone(s) corresponding to the last preceding \fB-d\fP or \fB-n\fP option
(this option is position dependent).  There can be multiple zones if
this applies to a \fB-n\fP option.  Including multiple \fISERVER\fP arguments
and/or \fB-S\fP options is allowed.
.TP 5
.BI \+S " [enable|disable]"
Control the ability of class A, B, or C \fINET\fPs to act as supernets, i.e.,
parent networks, for subsequent \fB-n\fP/\fB-a\fP options which specify a
sub\fINET\fP of a smaller class (B, C, or sub-C).  When \fBh2n\fP reads
its option list, each \fB-n\fP/\fB-a\fP \fINET\fP is checked to see if has
any overlapping IP addresses with a previously-specified \fINET\fP.  If an
inter-class overlap exists, the default behavior is to treat the situation
as an ambiguous data entry error, e.g.,
.PP
.RS 8
 -n 192.168/16
 -a 192.168.1/24
 Improper -a option (-a 192.168.1/24).
 It overlaps with a network of a different class from a
 previous option:
   -n 192.168/16
 They can't simultaneously specify a part of the same DNS
 address-to-name space.
.RE
.PP
.RS 5
However, the overlapping \fB-n\fP/\fB-a\fP options in the preceding example
are exactly what is needed in the scenario where:
.RE
.PP
.RS 8
 1. The file "spcl.192.168" exists and contains NS records
    which delegate the reverse-mapping name space for
    192.168.1/24 to other name servers.  Remember that
    any \fIspcl.NET\fP file that \fBh2n\fP finds is appended to
    the appropriate \fIdb.NET\fP file that gets created.

 2. The host table being used has entries for both parent
    (192.168/16) and delegated (192.168.1/24) networks.
.RE
.PP
.RS 5
When inter-class network overlaps need to exist as \fB-n\fP/\fB-a\fP options
to accommodate reverse-mapping delegations, the \fB+S\fP option must be
specified so that the appropriate supernet(s) can be recognized as such.
In the current example, specifically assigning supernet status to the
192.168/16 network prevents the overlapping 192.168.1/24 network from being
rejected when the option list is processed.  The \fB-a\fP option is then able
to match IP addresses in the 192.168.1/24 network and prevent their
corresponding PTR record(s) from being matched and created in the db.192.168
zone data file, e.g.,
.RE
.PP
.RS 8
 \fB+S\fP
 -n 192.168/16
 \fB+S\fP \fIdisable\fP
 -a 192.168.1/24
.RE
.PP
.RS 5
Once the \fB+S\fP option is specified, all subsequent class A, B, and/or C
\fINET\fPs declared with the \fB-n\fP/\fB-a\fP options are considered to be
supernets relative to any smaller-classed sub\fINET\fP until cancelled by the
\fB+S\fP \fIdisable\fP option.  Multiple \fB+S\fP \fIenable\fP/\fIdisable\fP
blocks may be used.
.PP
As mentioned in the descriptions for the \fB-n\fP and \fB-a\fP options,
the \fImode=\fP\fIS\fP argument may also be used as an alternate way to
declare an individual \fINET\fP to be supernet, e.g.,
.RE
.PP
.RS 8
 -n 192.168/16  \fImode=\fP\fIS\fP
 -a 192.168.1/24
.RE
.RS 5
.TP 6
NOTE:
\fB-n\fP/\fB-a\fP options that are declared to be supernets must appear
before the corresponding \fB-n\fP/\fB-a\fP options for the overlapping
subnets since \fBh2n\fP processes these options in a single pass.  Also,
care should be taken not to overuse the \fB+S\fP/\fImode=\fP\fIS\fP
supernetting feature.  Doing so prevents the detection of unintended network
overlaps.
.RE
.TP 5
.B
\-t
Generate TXT records from the host table comment section.  Any
special \fBh2n\fP processing flags are ignored, e.g., [no smtp].
.TP 5
.BI \+t " DEFAULT-TTL [MINIMUM-TTL]"
Create an RFC-2308 $TTL directive at the top of all zone files.
If the \fIMINIMUM-TTL\fP argument is specified, use that as the
negative caching interval instead of the default value of 10 minutes.
.TP 5
.BI \-T " [mode=M] [RR='DNS RR' [RR='...']] [ALIAS='NAME [TTL]'] ..."
Add additional top-of-zone-related records to \fIDOMAIN\fP of the \fB-d\fP
option as an alternative to creating them in a "spcl" file.
The following arguments are recognized:
.RS 5
.TP 8
.I mode=M
Add the global MX record set from the \fB-m\fP option(s).
.TP 8
.I RR=
Add '\fIDNS RR\fP' with the owner field set to whitespace
or the RFC-1035 "@" symbol.  Any DNS record type that
is contextually valid in the zone apex can be specified.
The appropriate quotes must enclose '\fIDNS RR\fP' with its
embedded whitespace to capture it as a single argument.
.TP 8
.I ALIAS=
Add a CNAME having \fINAME\fP in the owner field which has
an RDATA field that points to "@", the zone apex.  If
an optional \fITTL\fP is specified, the '\fINAME TTL\fP' argument
must be enclosed in the appropriate quotes.
.RE
.PP
.RS 5
Including multiple \fIRR=\fP and/or \fIALIAS=\fP arguments and/or
\fB-T\fP options is allowed.
.RE
.TP 5
.BI \-u " CONTACT"
Set \fICONTACT\fP as the e-mail address in the RNAME (responsible person)
field of the SOA record.  \fICONTACT\fP should be a complete mail address,
e.g.,
.PP
.RS 8
 hostmaster@movie.edu
.RE
.PP
.RS 5
Defaults to root@\fIDOMAIN\fP (\fB-d\fP option).  Periods
in the username-portion of the address, e.g.,
.PP
.RS 3
 Sam.Spade@movie.edu
.RE
.PP
will be escaped if necessary.
.PD 0
.TP 6
NOTE:
If \fICONTACT\fP lacks the "@" symbol and has a trailing
period, RNAME format will be assumed and \fICONTACT\fP left unchanged.
.PD
.RE
.TP 5
.B
\-v
Display the version number of \fBh2n\fP.
.TP 5
.BI \-V " DOMAIN"
Verify the integrity of a domain by performing a zone transfer
and analyzing the data.  All of the checks described above for
the \fB-I\fP \fIaudit\fP option are done plus those for "CNAME and other
data" errors.  In addition, listed name servers are checked for
proper delegation.  Including multiple \fIDOMAIN\fP arguments and/or
\fB-V\fP options is allowed.
.TP 5
.B
\-w
Generate WKS records that list the SMTP service over the TCP
protocol if an MX record is also created.
.TP 5
.BI \-W " PATH"
Sets the directory where db files will be located on the master and
slave name servers.  This is useful if you build new db files on a
host other than the master.  You must specify an absolute pathname.
.TP 5
.BI \-y " [mode=D|M]"
Set the SOA serial number of all created zones to use a date/version
format.  The default format is YYYYMMDDvv where YYYY is the year,
MM is the month, DD is the day of the month, and "vv" is the version
counter that starts at 00 and increments each time \fBh2n\fP is
run on the same day.  The consistent appearance of this format in the
SOA record implies a limit of 100 updates per day.  The \fB-y\fP option
may be specified with one of the following \fImode=\fP flags:
.RS 5
.TP 3
.I D
Set the daily format of YYYYMMDDvv (default).
.TP 3
.I M
Set the monthly format of YYYYMMvvvv.  This allows up to 10,000
updates per month to be made.
.RE
.RS 5
.TP 6
NOTE:
Serial number changes comply with the wrap-around arithmetic specified
by RFC-1982.  If setting the \fB-y\fP option for the first time, it may
take a subsequent run by \fBh2n\fP before the desired format is achieved.
.RE
.TP 5
.BI \-z " ADDRESS ..."
Create a boot/conf file, \fI./[boot|conf].sec.save\fP, for a slave name server
that lists \fIADDRESS\fP as the master to load from, and save a copy of
the zone data in a backup file.  (This option is similar to the \fB-Z\fP
option).  Including multiple \fIADDRESS\fP arguments and/or \fB-z\fP options
is allowed.
.TP 5
.BI \-Z " ADDRESS ..."
Create a boot/conf file, \fI./[boot|conf].sec\fP, for a slave name server that
lists \fIADDRESS\fP as the master to load from, and do not save a copy
of the data in a backup file.  (This option is similar to the \fB-z\fP
option).  Including multiple \fIADDRESS\fP arguments and/or \fB-Z\fP options
is allowed.
.TP 5
.B [\-no]\-recurse
Controls whether or not delegated subdomains are themselves
recursively verified after completing verification of the parent
domain with the \fB-V\fP option.  Default is \fB-no-recurse\fP.
.TP 5
.B [\-no]\-check\-del
Controls delegation checking when verifying one or more domains
with the \fB-V\fP option.  NS records that delegate child domains are
also checked.  Default is \fB-check-del\fP.
.TP 5
.B [\-no]\-show\-nxdomain\-cnames
Controls the display of non-existent external domain names to
which an internal CNAME points, i.e., "dangling" CNAMEs, if
auditing is in effect.  CNAMEs pointing to non-existent internal
domains are always reported.  Default is \fB-show-nxdomain-cnames\fP.
.TP 5
.B [\-no]\-show\-chained\-cnames
Controls the display of each element of an external CNAME chain
to which an internal CNAME points.  The default behavior [\fB-no\fP]
is to ignore CNAME chains that successfully resolve and display
just the chain length of dangling or looping CNAMEs.
.TP 5
\fB[\-no]\-debug\fP\fI[:DIRECTORY]\fP
Controls the removal of all temporary files that get created
during the course of normal processing including a zone transfer
file obtained with the \fB-V\fP option. If a domain is being reverified
and the zone transfer file still exists from a previous run with
\fB-debug\fP, then respecifying the \fB-debug\fP option will cause the
existing zone transfer data to be used instead of requesting a new copy
of the zone from an authoritative name server.  Temporary files are
created in the \fI/tmp\fP directory unless overridden by the optional
\fIDIRECTORY\fP argument.  Default is \fB-no-debug\fP.
.SH RETURN VALUE
\fBh2n\fP returns the following exit codes:
.RS 5
.TP 5
.B
0
Successful completion.  Review standard error for incidental
messages.
.TP 5
.B
1
Data generation error.  Review standard error for message(s)
related data errors that would prevent DNS zones from being
loaded and/or cause name server interoperability issues.
.TP 5
.B
2
Abnormal end of program.  Review standard error for cause.
.RE
.SH DIAGNOSTICS
Error messages that occur when \fBh2n\fP processes its options list are
self-explanatory and usually result in abnormal program termination.
Warning messages related to the processing of data in the host table
and "spcl" files attempt to achieve concise clarity but do assume that
the user has basic knowledge of the DNS-related RFCs.
.PP
When a DNS zone is audited, various validity checks are done depending
on the type of record being inspected (NS, MX, etc.).  \fBh2n\fP looks up
intra-zone data in its internal tables and calls the DiG program to
make DNS queries for resolving references to extra-zone domain names.
The following status codes are used to report badly configured data
and DNS query failures:
.TP 16
[CNAME chain ]
The domain name is an extra-zone CNAME that points
to another CNAME.  The total chain length appearing
within parentheses immediately follows.
.TP 16
[ CNAME loop ]
The domain name is an extra-zone CNAME which
ultimately points back to itself.  If a CNAME
chain is involved, the total length appearing
within parentheses immediately follows.
.TP 16
[CNAME record]
The domain name refers to a CNAME record when it
should properly point to another record type,
most likely an address record (A, AAAA, or A6).
In addition to address records, PTR records can
point to NSAP records (RFC-1706) while RT records
can also reference ISDN and X25 records (RFC-1183).
.TP 16
[(*) CNAME RR]
Same as above except that the domain name matches
a wildcard CNAME record.
.TP 16
[ (*) MX RR  ]
Same as above except that the domain name matches
a wildcard MX record.
.TP 16
[no addr. RR ]
The domain name exists and should have an address
record (A, AAAA, or A6) but no such RR type exists.
Also implies that no NSAP record exists if auditing
PTR records and no ISDN nor X25 records exist if
auditing RT records.
.TP 16
[(*) non-A RR]
Same as above except that the domain name matches
a wildcard record that is not type A, AAAA, or A6.
.TP 16
[ no TXT RR  ]
The domain name exists and should have a TXT
record but no such record type exists.
.TP 16
[(*)nonTXT RR]
Same as above except that the domain name matches
a wildcard record that is not type TXT.
.TP 16
[no A record ]
The extra-zone domain name exists and should have
an address record but a DNS query returned no A RRs.
.TP 16
[no such name]
The intra-zone domain name does not exist.
.TP 16
[no RRs exist]
The domain name exists as a node in the DNS
name space but no DNS resource records are
associated with the name.
.TP 16
[  NXDOMAIN  ]
The requested extra-zone domain name does not exist.
.TP 16
[  FORMERR   ]
The name server was unable to interpret the DNS
query due to a format error.
.TP 16
[  SERVFAIL  ]
The name server encountered an internal failure
while processing the query, for example an
operating system error, a forwarding timeout,
or a failure to load a DNS zone due to bad data.
.TP 16
[   NOTIMP   ]
The name server did not support the specified query.
.TP 16
[  REFUSED   ]
The name server refused to perform the specified
query for policy or security reasons.
.TP 16
[ timed out  ]
The DNS query made by the DiG program timed out.
.TP 16
[con. refused]
A query was directed to a host which was not
running a name server process.
.TP 16
[  no route  ]
A query was directed to an unreachable host.
.TP 16
[unreachable ]
A query was directed to a host on an unreachable
network.
.TP 16
[bad DNS msg.]
DiG received a malformed response to its DNS query.
.TP 16
[buffer error]
An overrun occurred in DiG's command buffer.
This can be alleviated by running DiG 8.3 or newer.
.TP 16
[sync. error ]
DiG generated unexpected output that was detected
by \fBh2n\fP's internal parser.
.SH EXAMPLES
Create name server data for networks 192.249.249 and 192.253.253 in
movie.edu.
.PP
.RS 3
 h2n -d movie.edu -n 192.249.249 -n 192.253.253
.RE
.PP
Create name server data for networks 192.249.249/24 and 192.253.253/24
in "movie.edu".  Eliminate lines in the host table that contain
"fx.movie.edu" and include an MX record for all hosts that points
to the mail hub "postmanrings2x.movie.edu".  Afterwards, append
the additional resource records in the file \fIspcl.movie.edu\fP to
\fIdb.movie\fP via an $INCLUDE directive.  Put all of the options in
a file that \fBh2n\fP can read with the \fB-f\fP option.
.PP
.RS 3
 h2n -f option_file
.PP
 option_file contains the following lines:
.PP
 -d movie.edu  spcl=spcl.movie.edu
 -n 192.249.249
 -n 192.253.253
 -e fx.movie.edu
 -m 50:postmanrings2x.movie.edu
.RE
.PP
If the Web server has the following host file entry:
.PP
.RS 3
 192.253.253.80  web.movie.edu
.RE
.PP
The following \fB-T\fP option enables the URLs
.PP
.RS 3
 http://movie.edu
 http://www.movie.edu
.RE
.PP
to resolve to the site's Web server as well as adding the
global MX record(s) from the \fB-m\fP option(s) to the zone
apex in lieu of adding records to a "spcl" file:
.PP
.RS 3
 -T RR='@ A 192.253.253.80'  ALIAS=www  mode=M
.RE
.PP
.SH DEPENDENCIES
\fBh2n\fP requires Perl 5 in order to run.  The \fB-P\fP option for preserving
upper-case characters in the host file requires the "Tie::CPHash"
Perl module to be installed.  This module can be obtained from the
Comprehensive Perl Archive Network (CPAN) site at:
.PP
.RS 3
 http://search.cpan.org/search?module=Tie::CPHash
.RE
.PP
The DiG program is required for certain options (\fB-V\fP, \fB-I\fP \fIaudit\fP)
and to obtain the version of BIND that is running on the master
name server (\fB-h\fP option) in order to optimize its functionality.
The source code for DiG is available in the standard BIND
distribution at:
.PP
.RS 3
 http://www.isc.org/products/BIND
.RE
.PP
The "check_del" utility.  You have a couple of choices:
.TP 4
1.
Use the version written in Perl that's included with the
\fBh2n\fP distribution.  You'll need the Net::DNS module
which can be obtained from one of the following sites:
.PP
.RS 7
 http://search.cpan.org/search?module=Net::DNS
 http://www.net-dns.org/
.RE
.PP
.TP 4
2.
A version written in \fIC\fP can be found in the BIND 8
distribution under the \fIcontrib/nutshell\fP directory.
You'll have to compile BIND first since "check_del"
needs to be linked with some of BIND's static libraries.
.PP
"check_del" is only needed when \fBh2n\fP is used to verify a
DNS zone via the \fB-V\fP option.
.PP
.SH VERSION
This documentation describes \fBh2n\fP version 2.56.

