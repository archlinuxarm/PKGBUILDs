# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Sergej Pupykin <pupykin.s+arch@gmail.com>
# Contributor: Sebastian A. Liem <sebastian at liem dot se>

pkgname=slock
pkgver=0.9
pkgrel=2
pkgdesc="A simple screen locker for X."
arch=('i686' 'x86_64')
url="http://www.suckless.org/programs/slock.html"
license=('MIT')
depends=('libx11')
source=(http://code.suckless.org/dl/tools/slock-$pkgver.tar.gz)
md5sums=('df342ad129cf2c3b8eb8da9d9d0ab845')

build() {
  cd $startdir/src/$pkgname-$pkgver
  sed -i "s#/usr/X11R6/include#/usr/include/X11#g" config.mk
  sed -i "s#/usr/X11R6/lib#/usr/lib/X11#g" config.mk
  sed -i 's|PREFIX = /usr/local|PREFIX = /usr|g' config.mk

  make || return 1
  make DESTDIR=$startdir/pkg install || return 1
  install -m644 -D LICENSE $startdir/pkg/usr/share/licenses/$pkgname/LICENSE
}
