# $Id: PKGBUILD 82 2009-07-17 19:56:55Z aaron $
# Maintainer: Eric Belanger <eric@archlinux.org>

pkgname=pingus
pkgver=0.7.2
pkgrel=2
pkgdesc="Pingus is a Lemmings clone, i.e. a level-based puzzle game."
arch=('i686' 'x86_64')
url="http://pingus.seul.org"
license=('GPL')
depends=('gcc-libs' 'sdl_image' 'sdl_mixer' 'boost>=1.39')
makedepends=('scons')
source=(http://pingus.seul.org/files/${pkgname}-${pkgver}.tar.bz2 pingus.desktop pingus.gcc44.patch)
md5sums=('88756802d483f922d0910a14cd26a951' 'b94efaa6e2de959de7fdb50cfc7dbdea'\
         '8928dc41305e91dddf828ec8b74dfd0d')
sha1sums=('1cd3a1d924337a5ee2e0ee387c0513f85d47cdb0'
          'f35649f3b0b2bfcb01ce75085cf719dcaa609a54'
          '8ac508fe451246a647f809bd91843881158f09b9')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  patch -p1 < ../pingus.gcc44.patch || return 1
  scons prefix=/usr || return 1
  ./install.sh "${pkgdir}/usr" || return 1
  install -D -m644 "${srcdir}/pingus.desktop" "${pkgdir}/usr/share/applications/pingus.desktop" || return 1
}
