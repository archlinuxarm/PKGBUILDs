# Maintainer: Mike Staszel <mikestaszel@openpogo.com>

pkgname=acl
pkgver=2.2.48
pkgrel=1
pkgdesc="Library for filesystem ACL support"
arch=('arm')
url="http://oss.sgi.com/projects/xfs/"
license=('LGPL')
groups=('base')
depends=('attr>=2.4.41')
makedepends=('libtool' 'gettext')
replaces=('xfsacl')
provides=('xfsacl')
conflicts=('xfsacl')
options=('!libtool')
source=(ftp://oss.sgi.com/projects/xfs/cmd_tars/acl-${pkgver}.src.tar.gz)
sha256sums=('b45e21549c9752ad9b99862cce79d7ec5ef4b32c3e95a39f79f0a8442b86476e')


build() {
  cd $srcdir/acl-$pkgver
  
  ./configure --prefix=/usr
  make || return 1 
  make prefix=$pkgdir/usr/ install install-lib install-dev

  # tidy up
  cd $pkgdir

  mkdir -v lib
  mv -v usr/lib/libacl.so* lib/
  ln -sv ../../lib/libacl.so.1 usr/lib/libacl.so

  mv -v usr/libexec/libacl.{a,la} usr/lib/
  rm -rf $pkgdir/usr/libexec
}
