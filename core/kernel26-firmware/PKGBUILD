# $Id: PKGBUILD 42104 2009-06-11 10:03:49Z tpowa $
# Maintainer: Tobias Powalowski <tpowa@archlinux.org>
# Maintainer: Thomas Baechler <thomas@archlinux.org>
pkgname=kernel26-firmware
pkgver=2.6.30
pkgrel=1
pkgdesc="The included firmware files of the Linux Kernel"
arch=(i686 x86_64)
license=('GPL2')
groups=('base')
url="http://www.kernel.org"
depends=()
source=(ftp://ftp.kernel.org/pub/linux/kernel/v2.6/linux-$pkgver.tar.bz2
        config
        config.x86_64)
options=(!makeflags)
md5sums=('7a80058a6382e5108cdb5554d1609615'
         'aa331c2ce467437e7cc39006bc1bb6e5'
         '8563d05c70dcc44a954215984087a517')

build() {
  cd ${srcdir}/linux-$pkgver
  if [ "$CARCH" = "x86_64" ]; then
    cat ../config.x86_64 >./.config
  else
    cat ../config >./.config
  fi
  make firmware || return 1
  make INSTALL_MOD_PATH=${pkgdir} firmware_install || return 1
}

