# Maintainer: Mike Staszel <mikestaszel@plugboxlinux.org>

# Plugbox changes: inittab has a line for ttyS0 at 115200
#                  rc.shutdown has an LED turn-off line
#                  rc.conf is different
#                  rc.sysinit has our copyright info

# 2011.03-1: Kevin Mihelich <kevin@plugapps.com>
#  - fixed LED turn-off, missing ;

pkgname=initscripts
pkgver=2011.03
pkgrel=1
plugrel=1
pkgdesc="System initialization/bootup scripts"
arch=('arm')
url="http://www.plugboxlinux.org"
license=('GPL')
groups=('base')
backup=(etc/inittab etc/rc.conf etc/rc.local etc/rc.local.shutdown etc/conf.d/wireless)
depends=('glibc' 'bash' 'awk' 'grep' 'coreutils' 'sed' 'udev>=139-1'
         'net-tools' 'ncurses' 'kbd' 'findutils' 'sysvinit')
optdepends=('bridge-utils: Network bridging support'
            'dhcpcd: DHCP network configuration'
            'wireless_tools: Wireless networking')
install=initscripts.install
source=(adjtime.cron
	functions
	inittab
	install.sh
	minilogd
	minilogd.c
	netfs
	network
	rc.conf
	rc.local
	rc.local.shutdown
	rc.multi
	rc.shutdown
	rc.single
	rc.sysinit
	wireless.conf.d)

md5sums=('c03a4a5be5e2579b59e0dcd6a21d310b'
	 '5a09834b409f579d02b22cd603bc4ea5'
	 'd73d9303e5aae968b6e1c300f4a4fb0f'
	 '3fb0b6e945065ba1d283f136d17d612e'
	 '505290bcaaffe1b3198d0e978a5aeab2'
	 '2c2dcc7ce7586f27fc5e6887f8ec74b8'
	 '96fdb70f95844d95a9941ee319601e8d'
	 'faecfa79b6a19e4f947cb1e1c683f7f2'
	 '5d838064143eb66491df92a6a21bbc5b'
	 'bd236a57bc00aa4727b98c5ae401c457'
	 '669ce6d766dd9deb86686219f3763fe4'
	 '3dfa8c33cf3fac7b1721e280225498b9'
	 'd6daba243a961cbd2ab7a352694138ff'
	 '230b25d02b0c2f99b9d1053ebcb9694f'
	 '8b0c2132217c4b03493cdea26415a424'
	 '027576534885b8d5dded9be546057b12')

build() {
  cd ${srcdir}/
  DESTDIR=${pkgdir} ./install.sh
  install -D -m644 ${srcdir}/wireless.conf.d ${pkgdir}/etc/conf.d/wireless
}
