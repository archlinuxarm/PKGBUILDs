# Maintainer: Kai Uwe Jesussek <kajot@gmx.net>

pkgname=mouse-emul-git
pkgver=20110611
pkgrel=1
plugrel=1
pkgdesc="Tiny mouse emulator"
arch=('arm' 'i686' 'x86_64')
license=('GPL2')
provides=('mouse-emul')
makedepends=('git')
_gitroot=("https://github.com/anarsoul/mouse-emul.git")
_gitname=("mouse-emul")

build() {
  cd ${srcdir}

 ## Git checkout
  if [ -d ${srcdir}/${_gitname} ] ; then
    msg "Git checkout:  Updating existing tree"
    cd ${_gitname} && git pull origin
    msg "Git checkout:  Tree has been updated"
  else
    msg "Git checkout:  Retrieving sources"
    git clone ${_gitroot}
  fi
  msg "Checkout completed"

 ## Build
  rm -rf ${srcdir}/${_gitname}-build
  cp -r ${srcdir}/${_gitname} ${srcdir}/${_gitname}-build
  cd ${srcdir}/${_gitname}-build
  make DESTDIR=${pkgdir} install
  mkdir ${pkgdir}/etc/
  touch ${pkgdir}/etc/mouse-emulrc
}
package() {
  true
}
