# Maintainer: tzervo <tzervo@gmail.com>
# Contributor: plut0nium <charles(DOT)fourneau(AT)gmail(DOT)com >

plugrel=2

pkgname=owfs
pkgver=2.8p7
pkgrel=1.${plugrel}
pkgdesc="An easy way to use the powerful 1-wire system of Dallas/Maxim, includes temploggerd."
arch=('any')
url="http://www.owfs.org"
license=('GPL')
depends=('fuse' 'swig' 'rrdtool')
provides=('owfs')
source=(http://downloads.sourceforge.net/sourceforge/owfs/$pkgname-$pkgver.tar.gz
        http://downloads.sourceforge.net/sourceforge/owfs/temploggerd-1.3.8.tar.gz)
md5sums=('58dcd6b03de9e58cc282a63f57fcaa23'
         '8a75fe79fbd0ac1f042d6db88ca59ef4')

build() {
  cd "$srcdir/$pkgname-$pkgver"

  ./configure --prefix=/usr --with-python="/usr/bin/python2" --with-pythonconfig="/usr/bin/python2-config"
  make || return 1
  make DESTDIR="$pkgdir" install
  
  cd "$srcdir/temploggerd-1.3.8"
  ./configure --prefix=/usr
  make || return 1
  make DESTDIR="$pkgdir" install
}

